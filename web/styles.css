:root{
  --accent:#2563eb;
  --accent-2:#38bdf8;
  --bg:linear-gradient(135deg,#eef2ff 0%,#f8fafc 40%,#ecfeff 100%);
  --surface:#ffffff;
  --fg:#0f172a;
  --muted:#64748b;
  --border:rgba(15,23,42,.08);
  --shadow:0 14px 32px rgba(15,23,42,.12);
  --radius:18px;
}

html,body{margin:0;padding:0;font-family:"SF Pro Display",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Microsoft YaHei",sans-serif;color:var(--fg);background:var(--bg);min-height:100%;}

main{max-width:1080px;margin:0 auto;padding:32px 20px 96px;}

header.page-header{text-align:center;margin-bottom:32px;}
header.page-header h1{font-size:32px;margin:0;color:#0b1e6b;}
header.page-header p{color:var(--muted);margin:8px 0 0;font-size:15px;}

.layout-grid{display:grid;gap:20px;}

.card{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px 26px;}

.controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:8px;}
.extra-controls{margin-top:16px;gap:16px;}
.controls button,.actions .button,button{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none;padding:10px 16px;border-radius:999px;cursor:pointer;font-weight:600;box-shadow:0 10px 20px rgba(37,99,235,.22);transition:transform .15s ease,box-shadow .15s ease;}
.controls button:hover,.actions .button:hover,button:hover{transform:translateY(-1px);box-shadow:0 14px 22px rgba(37,99,235,.28);}
.controls select{border:1px solid var(--border);border-radius:999px;padding:9px 16px;font-size:14px;background:#f8fafc;color:var(--fg);}

.stats{display:flex;flex-wrap:wrap;gap:12px;color:var(--muted);font-size:13px;margin-bottom:20px;}
.stats span{background:#f1f5f9;padding:6px 12px;border-radius:999px;}

#taskList{list-style:none;padding:0;margin:0;}
#taskList li{background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);border-radius:16px;border:1px solid rgba(148,163,184,.2);padding:18px 20px;margin-bottom:14px;box-shadow:0 8px 24px rgba(15,23,42,.08);}
#taskList li strong{font-size:17px;}
#taskList .meta{color:var(--muted);font-size:13px;margin-top:6px;}
#taskList .actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;}
.button{display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-weight:600;}
.button.secondary{background:#e0f2fe;color:#0f172a;border-radius:999px;padding:10px 16px;border:1px solid rgba(14,116,144,.25);box-shadow:none;}
.button.secondary:hover{background:#bae6fd;}

small.badge{padding:3px 10px;border-radius:999px;border:1px solid rgba(37,99,235,.2);font-size:12px;color:#1d4ed8;background:#e0e7ff;margin-left:6px;}

.info-banner{display:flex;align-items:center;gap:14px;border:1px solid rgba(148,163,184,.3);background:linear-gradient(90deg,#f1f5f9 0%,#f8fafc 100%);border-radius:16px;padding:14px 18px;margin:16px 0;box-shadow:0 6px 18px rgba(15,23,42,.08);}
.info-banner code{background:#0f172a;color:#e2e8f0;padding:2px 6px;border-radius:6px;font-size:13px;}
.info-banner .meta{color:var(--muted);font-size:13px;}
.badge{display:inline-block;padding:4px 12px;border-radius:999px;font-size:12px;border:1px solid transparent;font-weight:600;}
.badge.red{background:#fee2e2;color:#991b1b;border-color:#fecaca;}
.badge.yellow{background:#fef9c3;color:#854d0e;border-color:#fde68a;}
.badge.green{background:#dcfce7;color:#166534;border-color:#bbf7d0;}
.muted-note{font-size:12px;color:var(--muted);margin-top:4px;}

fieldset{border:1px solid rgba(148,163,184,.2);border-radius:20px;margin:22px 0;padding:22px;background:linear-gradient(180deg,#ffffff 0%,#f8fbff 100%);box-shadow:0 12px 28px rgba(148,163,184,.18);}
legend{padding:0 10px;color:#1d4ed8;font-weight:700;font-size:16px;}

.grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;}
label{display:flex;flex-direction:column;font-size:14px;gap:6px;color:#0f172a;font-weight:600;}
input,select,textarea{padding:10px 12px;border:1px solid rgba(148,163,184,.4);border-radius:12px;font-size:14px;background:#f8fafc;color:#0f172a;box-shadow:inset 0 2px 4px rgba(15,23,42,.05);} 
input:focus,select:focus,textarea:focus{outline:2px solid rgba(37,99,235,.25);border-color:#93c5fd;}
textarea{resize:vertical;min-height:100px;}

.question-text{margin:18px 0 8px;font-weight:700;color:#0f172a;}
.radio-group{display:flex;flex-wrap:wrap;gap:8px;align-items:center;}
.radio-pill{position:relative;}
.radio-pill input{position:absolute;opacity:0;pointer-events:none;}
.radio-pill span{display:inline-block;min-width:34px;text-align:center;padding:8px 10px;border:1px solid rgba(148,163,184,.4);border-radius:999px;background:#fff;color:#0f172a;font-size:13px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(148,163,184,.18);transition:all .15s ease;}
.radio-pill input:checked + span{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent;box-shadow:0 8px 18px rgba(37,99,235,.28);transform:translateY(-1px);}
.radio-pill input:focus + span{outline:2px solid rgba(37,99,235,.25);}

.actions{display:flex;gap:14px;align-items:center;margin:16px 0;}
a.secondary-outline{background:#fff;color:#1d4ed8;border:1px solid rgba(37,99,235,.35);padding:10px 16px;border-radius:999px;box-shadow:none;}
a.secondary-outline:hover{background:#eff6ff;}

.progress{position:relative;height:12px;background:#e2e8f0;border-radius:999px;overflow:hidden;margin:16px 0;}
.progress .bar{position:absolute;left:0;top:0;bottom:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width .2s ease;}
.progress-label{font-size:13px;color:var(--muted);font-weight:600;}

.sticky-actions{position:sticky;bottom:0;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-top:1px solid rgba(148,163,184,.2);padding:18px 0;margin-top:28px;}
.sticky-actions .actions{margin:0;}
button.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));box-shadow:0 10px 24px rgba(37,99,235,.35);} 
button.primary:hover{filter:brightness(1.05);} 

.toast{position:fixed;left:50%;top:26px;transform:translateX(-50%) translateY(-20px);background:#0f172a;color:#fff;padding:10px 18px;border-radius:999px;box-shadow:0 12px 24px rgba(15,23,42,.25);opacity:0;pointer-events:none;transition:opacity .25s ease,transform .25s ease;z-index:9999;font-weight:600;}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
.hidden{display:none;}

@media (max-width:640px){
  header.page-header h1{font-size:26px;}
  .controls{flex-direction:column;align-items:flex-start;}
  #taskList .actions{flex-direction:column;align-items:flex-start;}
  .info-banner{flex-direction:column;align-items:flex-start;}
}
.md-guide{border:1px solid var(--border); border-radius:10px; background:#fafafa; padding:10px 12px; margin:12px 0}
.md-guide summary{cursor:pointer; font-weight:600; color:#0b3cff}
.md-guide p{margin:.4em 0}
.md-guide ul{margin:.4em 0 .6em 1em; color:#444}
.md-raw{white-space:pre-wrap; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:13px; line-height:1.5; color:#222}
.status-text{font-size:13px;color:var(--muted);}
.status-text.success{color:#047857;}
.status-text.error{color:#b91c1c;}
